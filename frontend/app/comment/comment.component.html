<div id='comment' class="comment">
    <form ng-controller="CommentsController">
        Post your Comment
        <form ng-controller="CommentsController" (ngSubmit)="postComment()">
            <div class="cmmnt-content">
                <textarea  [(ngModel)]="commentText" type="text" name="comment" placeholder="Share your thoughts"></textarea>
                <button ng-click='btn_add();' class="btn btn-small" style='margin-top:10px;'>Post Comment</button>
            </div>
            <span *ngIf="comments.length > 0">Comments</span>
            <ul class="commentList">
                    <li *ngFor="let cm of comments">
                        <div class="commenterImage">
                            <img src="{{cm.user?.imageURL}}" />
                            <span class="sub-text">{{cm.user?.firstName}}</span>
                        </div>
                        <div class="commentText">
                            <p class="">{{cm.text}}</p> <span class="date sub-text">{{cm.date}}</span>
                        </div>
                    </li>
            </ul>
        </form>
    </form>
</div>

<script type="text/javascript">
    function CommentsController($scope) {
        $scope.comment = [];
        $scope.btn_add = function() {
            if($scope.txtcomment !=''){
                $scope.comment.push($scope.txtcomment);
                $scope.txtcomment = "";
            }
        }

        $scope.remItem = function($index) {
            $scope.comment.splice($index, 1);
        }
    }
</script>
